#!/usr/bin/env python3

import os
import argparse

from nevf import nevf
from ngin import api

def main():
    parser = argparse.ArgumentParser(description="Load a dictionary file.")
    parser.add_argument('-n', '--name', type=str, help="Name of the new project")  # Positional argument
    args = parser.parse_args()

    dict = nevf.Nevf()

    if args.name:
        dict.set('name', args.name)
        newdir = os.path.join(os.getcwd(), args.name)
        os.makedirs(newdir, exist_ok=True)
        os.chdir(newdir)
        dict.set('base_dir', newdir)
        dict.write(os.path.join(newdir, '.ngin'))

    api.execute()


if __name__ == "__main__":
    main()